"use strict";(self.webpackChunkMatdash=self.webpackChunkMatdash||[]).push([[217],{1217:(P,d,a)=>{a.r(d),a.d(d,{ValidateFileComponent:()=>V});var h=a(467),r=a(9417),p=a(2168),u=a(222),m=a(5286),t=a(4438),g=a(6354),f=a(1626),x=a(9931),b=a(6921),F=a(3176),v=a(1771);let y=(()=>{class i{constructor(n,e,o){this.authRepository=n,this.authService=e,this.httpClient=o,this.fileManagementAPIUrl=(new f._y).set(x.b,!0)}excute(n){return this.httpClient.post(b.V.APIs.FileValidationManagement.ValidateFile,n,{context:this.fileManagementAPIUrl}).pipe((0,g.T)(e=>e))}static{this.\u0275fac=function(e){return new(e||i)(t.KVO(F.$),t.KVO(v.u),t.KVO(f.Qq))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var C=a(345);const M=["textArea"];let V=(()=>{class i{constructor(n,e,o){this.fb=n,this.validateUsecase=e,this.sanitizer=o,this.selectedFile=null,this.submitted=!1,this.markdownContent="\n      | Header 1 | Header 2 |\n      |----------|----------|\n      | Row 1    | Data 1   |\n      | Row 2    | Data 2   |\n    "}ngOnInit(){this.fileForm=this.fb.group({textareaField:[""]}),this.textareaField=this.fileForm.controls.textareaField}onFileSelected(n){const e=n.target;e?.files?.length&&(this.selectedFile=e.files[0],console.log("Selected file:",this.selectedFile))}onSubmit(){var n=this;if(this.selectedFile){this.textAreaDiv.nativeElement.innerHTML="",this.submitted=!0;const e=new FormData;e.append("file",this.selectedFile),this.validateUsecase.excute(e).subscribe(o=>{this.submitted=!1,o.analysis.forEach(function(){var c=(0,h.A)(function*(l,O){n.textAreaDiv.nativeElement.innerHTML=n.sanitizer.bypassSecurityTrustHtml(yield u.qg(l.output))});return function(l,O){return c.apply(this,arguments)}}())})}}getFormattedText(n){return n.replace(/### (.*)/g,"<h3>$1</h3>").replace(/#### (.*)/g,"<h4>$1</h4>").replace(/---/g,"<hr>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}static{this.\u0275fac=function(e){return new(e||i)(t.rXU(r.ok),t.rXU(y),t.rXU(C.up))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-validate-file"]],viewQuery:function(e,o){if(1&e&&t.GBs(M,5),2&e){let s;t.mGM(s=t.lsd())&&(o.textAreaDiv=s.first)}},standalone:!0,features:[t.aNF],decls:12,vars:2,consts:[["textArea",""],["for","fileInputInfo",1,"info","flex-grow-1","d-flex","flex-column","justify-content-left","align-items-left"],[3,"ngSubmit","formGroup"],["for","fileInput"],["type","file","id","fileInput",3,"change"],["type","submit",3,"disabled"],["contenteditable","false",1,"textarea-style","textarea_container"]],template:function(e,o){if(1&e){const s=t.RV6();t.j41(0,"h2"),t.EFF(1,"File Validation"),t.k0s(),t.j41(2,"label",1),t.EFF(3,"*Upload your file wants to validate:"),t.k0s(),t.j41(4,"form",2),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(o.onSubmit())}),t.j41(5,"label",3),t.EFF(6,"Choose a file:"),t.k0s(),t.j41(7,"input",4),t.bIt("change",function(l){return t.eBV(s),t.Njj(o.onFileSelected(l))}),t.k0s(),t.j41(8,"button",5),t.EFF(9,"Validate File"),t.k0s(),t.nrm(10,"div",6,0),t.k0s()}2&e&&(t.R7$(4),t.Y8G("formGroup",o.fileForm),t.R7$(4),t.Y8G("disabled",!o.selectedFile||o.submitted))},dependencies:[p.iI,r.YN,r.qT,r.cb,r.X1,r.j4,m.y2],styles:["h2[_ngcontent-%COMP%]{margin-top:0!important}.info[_ngcontent-%COMP%]{margin-bottom:15px!important}.textarea_container[_ngcontent-%COMP%]{margin-top:25px}textarea[_ngcontent-%COMP%]{width:100%;height:450px;padding:12px;font-size:16px;border:2px solid #ddd;border-radius:10px;outline:none;background-color:#fff;box-shadow:inset 0 1px 3px #0000001a;transition:border-color .3s,box-shadow .3s;resize:none}textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 6px #007bff80}textarea[_ngcontent-%COMP%]::placeholder{color:#aaa;font-style:italic}h3[_ngcontent-%COMP%]{color:#333;font-size:24px}h4[_ngcontent-%COMP%]{color:#555;font-size:20px}strong[_ngcontent-%COMP%]{font-weight:700}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#ccc;margin:20px 0}.textarea-style[_ngcontent-%COMP%]{width:100%;height:450px;padding:10px;font-family:Arial,sans-serif;font-size:14px;border:1px solid #ccc;border-radius:4px;overflow:auto;background-color:#f9f9f9;box-shadow:inset 0 1px 3px #0000001a;resize:none}.textarea-style[_ngcontent-%COMP%]:focus{border-color:#66afe9;outline:none;box-shadow:inset 0 1px 3px #0000001a,0 0 8px #66afe999}  .textarea_container table{width:100%;border-collapse:collapse}  .textarea_container th,   .textarea_container td{border:1px solid black!important;padding:8px!important;text-align:center!important}  .textarea_container th{background-color:#f2f2f2;font-weight:700}"]})}}return i})()}}]);